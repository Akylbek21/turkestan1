<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Паспорт путешественника — Turkestan Guide</title>
<link rel="stylesheet" href="css/main.css"/>
<style>
  .passport-wrap{max-width:980px;margin:22px auto;padding:0 16px}
  .pass-header{display:grid;gap:12px;grid-template-columns:1fr;align-items:center}
  .pass-card{
    background:linear-gradient(180deg, rgba(14,165,233,.12), rgba(16,185,129,.10));
    border:1px solid #233049;border-radius:18px;padding:16px;box-shadow:0 14px 40px rgba(14,165,233,.15)
  }
  .row{display:flex;gap:12px;flex-wrap:wrap}
  .field{display:grid;gap:6px;min-width:240px}
  .field input{all:unset;background:#0c1630;border:1px solid #233049;border-radius:12px;padding:10px 12px}
  .stats{display:flex;gap:14px;align-items:center;flex-wrap:wrap}
  .progress{height:10px;border-radius:999px;background:#0c1630;border:1px solid #233049;overflow:hidden;flex:1;min-width:200px}
  .progress>span{display:block;height:100%;background:linear-gradient(90deg,#0ea5e9,#10b981)}
  .badge-lg{font-weight:700;padding:6px 10px;border-radius:999px;background:linear-gradient(90deg,#0ea5e9,#10b981);color:#05201a}
  .grid-stamps{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px}
  .stamp{
    position:relative;border:1px dashed #3a4a66;border-radius:14px;padding:12px;background:#0b1326;
    min-height:150px;display:flex;flex-direction:column;gap:8px;justify-content:space-between;overflow:hidden
  }
  .stamp .title{font-weight:600}
  .stamp .loc{color:#a5b4fc;font-size:12px}
  .stamp .date{font-size:12px;color:#d1fae5}
  .stamp .status{font-size:12px;color:#a5b4fc}
  .stamp.visited{border-style:solid;border-color:#22d3ee;background:linear-gradient(180deg, rgba(34,211,238,.10), rgba(16,185,129,.08))}
  .stamp .emblem{
    position:absolute;right:-22px;top:-22px;width:120px;height:120px;border-radius:50%;
    border:3px solid rgba(34,211,238,.6);transform:rotate(-15deg);opacity:.25
  }
  .controls{display:flex;gap:10px;flex-wrap:wrap}
  .btn.warn{border:1px solid #7f1d1d;background:#1b0d0d;color:#fecaca}
  .achievements{display:flex;gap:8px;flex-wrap:wrap}
  .ach{padding:6px 10px;border-radius:999px;border:1px solid #233049;background:#0c1730}
  .ach.on{border-color:#22d3ee;box-shadow:0 0 0 2px rgba(34,211,238,.25) inset}
  .timeline{display:grid;gap:8px}
  .tl-item{border-left:3px solid #22d3ee;padding:8px 12px;background:#0b1326;border-radius:8px}
  .muted{color:#a5b4fc}
  @media print{
    header, .controls{display:none!important}
    body{background:#fff}
    .passport-wrap{max-width:100%;margin:0;padding:0}
    .pass-card{box-shadow:none;border-color:#999}
    .stamp{break-inside:avoid}
  }
</style>
</head>
<body>
  <header>
    <div class="container" style="display:flex;gap:12px;align-items:center">
      <a href="index.html" class="badge" style="text-decoration:none">← На главную</a>
      <h1 style="margin:0;background:linear-gradient(90deg,#0ea5e9,#22d3ee,#10b981);-webkit-background-clip:text;background-clip:text;color:transparent">
        Паспорт путешественника
      </h1>
      <span id="visited-badge" class="badge" style="margin-left:auto">0/0</span>
    </div>
  </header>

  <main class="passport-wrap">
    <!-- Профиль + прогресс -->
    <section class="pass-card">
      <div class="pass-header">
        <div class="row">
          <div class="field">
            <label class="loc">Имя путешественника</label>
            <input id="p-name" placeholder="Например: Аружан или Ермек"/>
          </div>
          <div class="field">
            <label class="loc">Класс/группа (необязательно)</label>
            <input id="p-class" placeholder="Школа №…, 7«А»"/>
          </div>
        </div>

        <div class="stats">
          <div class="badge-lg" id="level">Уровень: новичок</div>
          <div class="progress"><span id="pr-bar" style="width:0%"></span></div>
          <div class="loc" id="pr-text">0 из 0 мест</div>
        </div>

        <div class="achievements" id="ach-wrap">
          <div class="ach" id="ach-5">Бронза · 5 мест</div>
          <div class="ach" id="ach-12">Серебро · 12 мест</div>
          <div class="ach" id="ach-20">Золото · 20 мест</div>
        </div>

        <div class="controls" style="margin-top:8px">
          <button class="btn" id="btn-print">Печать / PDF</button>
          <button class="btn" id="btn-export">Экспорт JSON</button>
          <button class="btn" id="btn-import">Импорт JSON</button>
          <button class="btn warn" id="btn-reset">Сбросить прогресс</button>
        </div>
      </div>
    </section>

    <!-- Штампы -->
    <section class="pass-card" style="margin-top:16px">
      <h3 style="margin:0 0 8px">Штампы посещений</h3>
      <div class="grid-stamps" id="stamps"></div>
    </section>

    <!-- Таймлайн -->
    <section class="pass-card" style="margin-top:16px">
      <h3 style="margin:0 0 8px">Лента путешествий</h3>
      <div class="timeline" id="timeline">
        <div class="muted">Пока пусто — отметьте хотя бы одно место кнопкой «Был здесь».</div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">© <span id="y"></span> Turkestan Guide — Паспорт путешественника</div>
  </footer>

  <script src="js/passport.js"></script>
</body>
</html>
